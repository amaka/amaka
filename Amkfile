<?php

return [
    /**
     * The `:default' task is used called every time the Amaka
     * executable is invoked without arguments.
     */
    $amaka->task(':default')->dependsOn('spec'),

    $amaka->task('spec', function() {
        system("vendor/bin/behat -f progress");
    }),

    $amaka->task('build', function() {
        system("vendor/bin/phpunit --coverage-html build/coverage 2>&1");
        system("vendor/bin/behat --format=html > build/specs.html");
        system("vendor/bin/phpmd src/ html pmd.xml --reportfile build/mess.html");
    }),
];
